$schema: https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json
type: command

name: extraction
display_name: Extraction
description: Extract images from pdfs
version: 0.0.1
is_deterministic: true

inputs:
  pdfs_input:
    type: uri_folder

outputs:
  images_output:
    type: uri_folder
  hash_output:
    type: uri_folder

environment:
  name: extraction_environment
  build:
    path: ./

additional_includes:
   - "../../packages/mlopspython-extraction/mlopspython_extraction"


code: ./

command:
  python -m pip install -U pip && pip install uv
  uv venv 
  source .venv/bin/activate
  uv sync --no-dev --no-editable
  uv run python command.py
  --pdfs_input ${{inputs.pdfs_input}}
  --images_output ${{outputs.images_output}}
  --hash_output ${{outputs.hash_output}}
